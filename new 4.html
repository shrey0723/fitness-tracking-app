// When the user views the history page
$('#history').live('pageshow', function () {
   
  // Count the number of entries in localStorage and display this information to the user
  tracks_recorded = window.localStorage.length;
  $("#tracks_recorded").html("<strong>" + tracks_recorded + "</strong> workout(s) recorded");
   
  // Empty the list of recorded tracks
  $("#history_tracklist").empty();
   
  // Iterate over all of the recorded tracks, populating the list
  for(i=0; i<tracks_recorded; i++){
    $("#history_tracklist").append("<li><a href='#track_info' data-ajax='false'>" + window.localStorage.key(i) + "</a></li>");
  }
   
  // Tell jQueryMobile to refresh the list
  $("#history_tracklist").listview('refresh');
 
});  